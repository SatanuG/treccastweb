## Baseline run description

The baseline system is a three-retrieval process where, given a query, (1) the top-n documents are retrieved from the index and (2) chunked into passages using Spacy's SentenceRecognizer pipeline. (3) Passages are then re-ranked using a neural re-ranker.


![Baseline_architecture](https://user-images.githubusercontent.com/28223751/125435261-5568b1fb-472e-46b5-a264-c806b8d5f84a.png)


For (1), we use a simple BM25 function (K1=4.46, b=0.82), and for (3), we use a [T5 re-ranker](https://aclanthology.org/2020.findings-emnlp.63/) trained on the MS MARCO passage dataset.

`y3_automatic_results_passages_1000.run` is the results file generated by retrieving and re-ranking the passages from the top 1000 documents using the automatic rewritten queries. 

`y3_manual_results_passages_1000.run` is the results file generated by retrieving and re-ranking the passages from the top 1000 documents using the manual rewritten queries.

`y3_automatic_results_docs_1000.run` is the results file generated by retrieving the top

`y3_manual_results_docs_1000.run` is the results file generated by retrieving the top 1000 documents with BM25 using the manual rewrites.

## Baseline Rewriter Policy

We use the [T5 model trained on the CANARD dataset](https://huggingface.co/castorini/t5-base-canard) to generate our baseline automatic rewrites.

For a given query in a topic, the rewrite context consists of all queries from previous turns (turn `1` to turn `n-1`) and the passages from the last three turns (turn `n-3` to turn `n-1`).

For example, the automatic rewrite for topic `107`, turn `8` (identified as `107-8`) was generated by passing the following as context:

`query 107-1 ||| query 107-2 ||| query 107-3 ||| query 107-4 ||| query 107-5 ||| passage 107-5 ||| query 107-6 ||| passage 107-6 ||| query 107-7 ||| passage 107-7`